(this.webpackJsonpreactjs=this.webpackJsonpreactjs||[]).push([[0],{167:function(e,t,_){"use strict";_.d(t,"a",(function(){return l}));_(1);var r=_(21),o=_.n(r),s=(_(140),_(15)),a=_(2),n=0;function l(e,t,_){t>0&&(n=t);for(var r=[],o=0;o<n;o++)if("object"==typeof e[o]){for(var l=[{}],d=0;d<Object.keys(e[o]).length/2;d++)l[d]={x:e[o]["x"+(d+1)],y:e[o]["y"+(d+1)]};r[o]=[Object(a.jsx)(s.b,{color:_[o],className:"1-series",size:"3.5",data:l,style:{strokeLinejoin:"round",strokeWidth:2}})]}return Object(a.jsxs)(s.e,{width:700,height:200,display:"inline-block",children:[Object(a.jsx)(s.a,{style:{stroke:"#D1D0CE"}}),Object(a.jsx)(s.c,{style:{stroke:"#D1D0CE"}}),Object(a.jsx)(s.d,{title:"x",style:{line:{stroke:"#111111"},ticks:{stroke:"#6b6b76"},text:{stroke:"none",fill:"#6b6b76"}}}),Object(a.jsx)(s.f,{title:"\u041a\u043e\u044d\u0444\u0444. \u0443\u0432\u0435\u0440\u0435\u043d\u043d\u043e\u0441\u0442\u0438",style:{line:{stroke:"#6b6b76"},ticks:{stroke:"#6b6b76"},text:{stroke:"none",fill:"#6b6b76"}}}),r]})}o.a.render(Object(a.jsx)(l,{}),document.querySelector("#root"))},169:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return Table}));var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__),_Table_css__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(338),_Table_css__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_Table_css__WEBPACK_IMPORTED_MODULE_1__),_components_ReadOnlyRow__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(170),react_dom__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(21),react_dom__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_3__),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__);function Table(model,levelPravil,changeList,changeCoeff,selectedTM){var tempus=[[]],gettingLevelPravil=levelPravil,select=selectedTM;function cartesian(e){var t=[],_=e;_.reduceRight((function(e,t,_){return function(r){for(var o=0,s=t.length;o<s;o++){var a=r.slice();a[_]=t[o],e(a)}}}),Array.prototype.push.bind(t))(new Array(_.length));for(var r=t.length,o=0;o<r;o++)t[o].unshift(o+1);return t}function cartesian2(e){var t=[],_=e;_.reduceRight((function(e,t,_){return function(r){for(var o=0,s=t.length;o<s;o++){var a=r.slice();a[_]=t[o],e(a)}}}),Array.prototype.push.bind(t))(new Array(_.length));return t}void 0==select&&(select=1),console.log(select),"string"!=typeof gettingLevelPravil&&(gettingLevelPravil=1);var my=model;void 0==my.TM&&(my={options:{name:"\u042d\u043a\u0441\u043f\u0435\u0440\u0442\u043d\u0430\u044f \u0441\u0438\u0441\u0442\u0435\u043c\u0430 1",urovneyObrabotki:3},TM:[{id:"1",name:"\u0422\u0438\u043f \u043f\u043e\u0441\u0442\u0440\u043e\u0439\u043a\u0438",termsCount:3,termsNames:{term1:"\u041e\u0431\u0449. \u0437\u0434\u0430\u043d\u0438\u0435",term2:"\u0416\u0438\u043b\u043e\u0435 \u0437\u0434\u0430\u043d\u0438\u0435",term3:"\u0421/\u0425"},coords:[{x1:0,y1:0,x2:1,y2:1,x3:1,y3:5},{x1:2,y1:0,x2:3,y2:1,x3:3,y3:5},{x1:4,y1:0,x2:5,y2:2,x3:6,y3:2,x4:7,y4:0}],plotsColors:["#000000","#000000","#FF00D0"]},{id:"2",name:"\u041c\u0430\u0442\u0435\u0440\u0438\u0430\u043b",termsCount:3,termsNames:{term1:"\u0414\u0435\u0440\u0435\u0432\u043e",term2:"\u0411\u0435\u0442\u043e\u043d",term3:"\u041a\u0438\u0440\u043f\u0438\u0447"},coords:[{x1:0,y1:0,x2:1,y2:1,x3:2,y3:0},{x1:2,y1:0,x2:3,y2:1,x3:4,y3:0},{x1:4,y1:0,x2:5,y2:1,x3:6,y3:0}],plotsColors:["#00FF00","#E30202","#FF00D0"]},{id:"3",name:"\u041a\u043b\u0438\u043c\u0430\u0442",termsCount:3,termsNames:{term1:"\u0425\u043e\u043b\u043e\u0434\u043d\u044b\u0439",term2:"\u041f\u0440\u043e\u0445\u043b\u0430\u0434\u043d\u044b\u0439",term3:"\u0422\u0435\u043f\u043b\u044b\u0439"},coords:[{x1:0,y1:0,x2:1,y2:1,x3:2,y3:0},{x1:2,y1:0,x2:3,y2:1,x3:4,y3:0},{x1:4,y1:0,x2:5,y2:1,x3:6,y3:0}],plotsColors:["#00FF00","#E30202","#FF00D0"]}],pravila_end:{1:["1_1...1_1","1_2...2_0.8","1_3...1_0.9","2_1...2_0.7","2_2...1_0.9","2_3...2_1","3_1...1_0.9","3_2...1_0.8","3_3...2_0.9"]}});var shapka=[],termsInputArray=[[]],termsInputArray2=[[]],tempArray=[],selectedArray=[],otarray=[],doarray=[];if(otarray.push(my.TM[0]),otarray.push(my.TM[1]),doarray.push(my.TM[2]),void 0!=model.TM){otarray=[],doarray=[],console.log(selectedTM);for(var toNode=selectedTM,massivFrom=[],i=0;i<my.graph.edges.length;i++)my.graph.edges[i].to==Number(toNode)&&massivFrom.push(my.graph.edges[i].from);for(var _i=0;_i<massivFrom.length;_i++)for(var j=0;j<my.TM.length;j++)my.TM[j].id==Number(massivFrom[_i]-1)&&otarray.push(my.TM[j]);for(var _i2=0;_i2<my.TM.length;_i2++)my.TM[_i2].id==Number(toNode-1)&&doarray.push(my.TM[_i2]);console.log(doarray)}var otKokogo=otarray,doKokogo=doarray;console.log(otKokogo),shapka.push(Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("th",{children:"\u2116"}));for(var _i3=0;_i3<otKokogo.length;_i3++){var name=otKokogo[_i3].name;shapka.push(Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("th",{children:otKokogo[_i3].name}))}for(var _i4=0;_i4<doKokogo.length;_i4++){var _name=doKokogo[_i4].name;shapka.push(Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("th",{children:doKokogo[_i4].name}))}for(var _i5=0;_i5<otKokogo.length;_i5++){for(var _j=0;_j<otKokogo[_i5].termsCount;_j++){console.log(otKokogo[0].termsNames.term1),console.log(_i5),console.log(_j+1);var termName=eval("otKokogo["+_i5+"].termsNames['term"+(_j+1)+"']");tempArray[_j]=termName}termsInputArray2[_i5]=tempArray,tempArray=[]}termsInputArray2=cartesian2(termsInputArray2),termsInputArray2.map((function(e){return e.push("...")}));for(var _i6=0;_i6<doKokogo.length;_i6++){termsInputArray2.map((function(e){return e.push(1)}));for(var _j2=0;_j2<doKokogo[_i6].termsCount;_j2++){var _termName=eval("doKokogo["+_i6+"].termsNames['term"+(_j2+1)+"']");tempArray[_j2]={id:_j2+1,name:_termName}}selectedArray[_i6]=tempArray,tempArray=[]}for(var _i7=0;_i7<doKokogo.length;_i7++){for(var _tempArray=[],_j3=0;_j3<doKokogo[_i7].termsCount;_j3++){var _termName2=eval("doKokogo["+_i7+"].termsNames['term"+(_j3+1)+"']");_tempArray[_j3]={id:_j3+1,name:_termName2}}selectedArray[_i7]=_tempArray,_tempArray=[]}console.log(selectedTM);var urPravil=eval("my.pravila_end["+selectedTM+"]");if(void 0!=urPravil)for(var _i8=0;_i8<urPravil.length;_i8++){for(var temp=void 0,temp2=[],_j4=0;_j4<urPravil[_i8].split("...")[0].split("_").length+1;_j4++){var _termName3=void 0;0==_j4?_termName3=_i8+1:(temp=urPravil[_i8].split("...")[0].split("_")[_j4-1],_termName3=eval("otKokogo["+(_j4-1)+"].termsNames['term"+temp+"']")),temp2[_j4]=_termName3}tempus[_i8]=temp2}var ChangeSelect=function(e){e.preventDefault();e.target.getAttribute("name"),e.target.id.split("__")[0].split("_")[0];var t=e.target.id.split("__")[0].split("_")[1],_=e.target.id.split("__")[1];_=_.split("/")[0],changeList(t,_,e.target.options[e.target.selectedIndex].id,select);for(var r=0;r<termsInputArray2[t-1].length;r++)if("..."==termsInputArray2[_-1][r]){termsInputArray2[_-1][Number(Number(r)+Number(_))]=Number(e.target.options[e.target.selectedIndex].id);break}},ChangeCoeff=function(e){e.preventDefault();var t=e.target.value,_=(e.target.id.split("__")[0].split("_")[0],e.target.id.split("__")[0].split("_")[1]),r=e.target.id.split("__")[1],o=select;r=r.split("/")[0],changeCoeff(_,r,t,o),console.log("row="+_),console.log("position="+r),console.log("urovPravil="+o)},prav;return prav=eval("my.pravila_end"),console.log(prav),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{className:"LayerElement",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("form",{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("table",{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("thead",{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("tr",{children:shapka})}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("tbody",{children:tempus.map((function(e,t){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_components_ReadOnlyRow__WEBPACK_IMPORTED_MODULE_2__.a,{stroke:e,array:selectedArray,change:ChangeSelect,urovenPravil:levelPravil,index:t+1,pravila:prav[Number(select)][t],changeCoeff:ChangeCoeff})}))})]})})})}react_dom__WEBPACK_IMPORTED_MODULE_3___default.a.render(Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(Table,{}),document.querySelector("#root"))},170:function(e,t,_){"use strict";_(1);var r=_(2);t.a=function(e){var t=e.stroke,_=e.array,o=e.change,s=e.urovenPravil,a=e.index,n=e.pravila,l=e.changeCoeff,d=a,i=n.split("...")[1].split("-");null==i&&(i="1_1-1_1");var M=[{id:1,name:""}];if("string"==typeof t[1]&&_.length>0)for(var c=0;c<_[0].length;c++)M[c]={id:c+1,name:_[0][c]};for(var u=function(e){var t=e.id,_=e.options,s=(e.onChange,e.poryadok);return Object(r.jsx)("select",{className:"custom-select",id:t,onChange:o,defaultValue:_[i[s].split("_")[0]-1].name,children:_.map((function(e,_){return Object(r.jsx)("option",{id:e.id,value:e.name,children:e.name},t+_)}))})},p=[],g=!0,h=0;h<t.length;h++)g&&"string"==typeof t[h]?p[0]=Object(r.jsx)("td",{children:t[h]}):p.push(Object(r.jsx)("td",{children:t[h]})),g=!1;if("string"==typeof t[1]&&_.length>0)for(var m=0;m<_.length;m++){var E=s+"_"+d+"__"+(m+1)+"/"+_.length;p.push(Object(r.jsxs)("td",{children:[Object(r.jsx)(u,{id:E,options:_[m],poryadok:m}),Object(r.jsx)("input",{class:"plotInput",onInput:l,type:"number",step:"0.1",min:"0",max:"1",id:E,name:"d",value:i[m].split("_")[1]})]}))}return Object(r.jsx)("tr",{children:p})}},171:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),function(Buffer){var D_bz_git_flm_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(16),D_bz_git_flm_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(17),react_graph_vis__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(166),react_graph_vis__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(react_graph_vis__WEBPACK_IMPORTED_MODULE_2__),react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(1),react__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__),react_dom__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(21),react_dom__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_4__),_index_css__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(318),_index_css__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_index_css__WEBPACK_IMPORTED_MODULE_5__),_Plots_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(167),_Table_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(169),react_vis_dist_style_css__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(140),react_vis_dist_style_css__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(react_vis_dist_style_css__WEBPACK_IMPORTED_MODULE_8__),axios__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(89),axios__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_9__),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(2),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__),_require=__webpack_require__(357),XMLParser=_require.XMLParser,inputLevelCounter=0,input_Name;function FlmTree(){function randomColor(){var e=Math.floor(256*Math.random()).toString(16).padStart(2,"0"),t=Math.floor(256*Math.random()).toString(16).padStart(2,"0"),_=Math.floor(256*Math.random()).toString(16).padStart(2,"0");return"#".concat(e).concat(t).concat(_)}var createNode=function(e,t){randomColor();esModel.counter++,setEsModel(esModel),esModel.graph.nodes.push({x:e,y:t,color:"#F5DEB3",id:esModel.counter,font:{size:10},size:30,label:"",title:"",shape:"dot",physics:"false",group:3})},options={locale:"ru",interaction:{hover:!0,tooltipDelay:10,selectable:!0,multiselect:!0,dragView:!0},manipulation:{enabled:!0,initiallyActive:!0,addNode:!1,editEdge:!1,addEdge:function(e,t){esModel.graph.edges.push(e),t(e);for(var _={},r=0;r<esModel.graph.nodes.length;r++)_[esModel.graph.nodes[r].id]=[0,0];for(var o=0;o<esModel.graph.edges.length;o++)_[esModel.graph.edges[o].to][1]=1,_[esModel.graph.edges[o].from][0]=1;esModel.pravila_end=[],setEsModel(esModel);for(var s=0;s<esModel.graph.nodes.length;s++)1==_[esModel.graph.nodes[s].id][0]&&0==_[esModel.graph.nodes[s].id][1]&&(esModel.graph.nodes[s].color="#008000"),1==_[esModel.graph.nodes[s].id][0]&&1==_[esModel.graph.nodes[s].id][1]&&(esModel.graph.nodes[s].color="#DA70D6"),0==_[esModel.graph.nodes[s].id][0]&&1==_[esModel.graph.nodes[s].id][1]&&(esModel.graph.nodes[s].color="#FF0000");for(var a=0;a<esModel.graph.nodes.length;a++)console.log(esModel.graph.nodes[a].color),"#FF0000"!=String(esModel.graph.nodes[a].color)&&"#DA70D6"!=String(esModel.graph.nodes[a].color)||esModel.methods.UpdatePravila(esModel.graph.nodes[a].id);setEsModel(esModel),networks.network.setData({nodes:esModel.graph.nodes,edges:esModel.graph.edges}),networks.network.addEdgeMode()},deleteEdge:function(e,t){t(e);for(var _=0;_<esModel.graph.edges.length;_++)if(esModel.graph.edges[_].id==e.edges[0]){esModel.graph.edges.splice(_,1);break}for(var r={},o=0;o<esModel.graph.nodes.length;o++)r[esModel.graph.nodes[o].id]=[0,0];for(var s=0;s<esModel.graph.edges.length;s++)r[esModel.graph.edges[s].to][1]=1,r[esModel.graph.edges[s].from][0]=1;esModel.pravila_end=[],setEsModel(esModel);for(var a=0;a<esModel.graph.nodes.length;a++)1==r[esModel.graph.nodes[a].id][0]&&0==r[esModel.graph.nodes[a].id][1]&&(esModel.graph.nodes[a].color="#008000"),1==r[esModel.graph.nodes[a].id][0]&&1==r[esModel.graph.nodes[a].id][1]&&(esModel.graph.nodes[a].color="#DA70D6"),0==r[esModel.graph.nodes[a].id][0]&&1==r[esModel.graph.nodes[a].id][1]&&(esModel.graph.nodes[a].color="#FF0000"),0==r[esModel.graph.nodes[a].id][0]&&0==r[esModel.graph.nodes[a].id][1]&&(esModel.graph.nodes[a].color="#F5DEB3");for(var n=0;n<esModel.graph.nodes.length;n++)"#FF0000"!=String(esModel.graph.nodes[n].color)&&"#DA70D6"!=String(esModel.graph.nodes[n].color)||esModel.methods.UpdatePravila(esModel.graph.nodes[n].id);setEsModel(esModel),networks.network.setData({nodes:esModel.graph.nodes,edges:esModel.graph.edges})},deleteNode:function(e,t){t(e);for(var _=[],r=!1,o=0;o<esModel.graph.edges.length;o++)esModel.graph.edges[o].from!=e.nodes[0]&&esModel.graph.edges[o].to!=e.nodes[0]||_.push(o);for(var s=0;s<esModel.graph.nodes.length;s++)esModel.graph.nodes[s].id==e.nodes[0]&&"#F5DEB3"==esModel.graph.nodes[s].color&&(r=!0),esModel.graph.nodes[s].id!=e.nodes[0]||"#008000"!=esModel.graph.nodes[s].color&&"#DA70D6"!=esModel.graph.nodes[s].color&&"#FF0000"!=esModel.graph.nodes[s].color||(esModel.pravila_end=[]);for(var a=0;a<_.length;a++)esModel.graph.edges.splice(_[_.length-1-a],1);for(var n=0;n<esModel.graph.nodes.length;n++)esModel.graph.nodes[n].id==e.nodes[0]&&esModel.graph.nodes.splice(n,1);for(var l=0;l<esModel.TM.length;l++)esModel.TM[l].id==e.nodes[0]-1&&esModel.TM.splice(l,1);esModel.counter--;for(var d=[{}],i=0;i<esModel.graph.nodes.length;i++)d[esModel.graph.nodes[i].id]=i+1,esModel.graph.nodes[i].id=i+1;for(var M=0;M<esModel.TM.length;M++)esModel.TM[M].id=M;setEsModel(esModel);for(var c=0;c<esModel.graph.edges.length;c++)esModel.graph.edges[c].from=d[esModel.graph.edges[c].from],esModel.graph.edges[c].to=d[esModel.graph.edges[c].to];for(var u={},p=0;p<esModel.graph.nodes.length;p++)u[esModel.graph.nodes[p].id]=[0,0];for(var g=0;g<esModel.graph.edges.length;g++)u[esModel.graph.edges[g].to][1]=1,u[esModel.graph.edges[g].from][0]=1;setEsModel(esModel);for(var h=0;h<esModel.graph.nodes.length;h++)1==u[esModel.graph.nodes[h].id][0]&&0==u[esModel.graph.nodes[h].id][1]&&(esModel.graph.nodes[h].color="#008000"),1==u[esModel.graph.nodes[h].id][0]&&1==u[esModel.graph.nodes[h].id][1]&&(esModel.graph.nodes[h].color="#DA70D6"),0==u[esModel.graph.nodes[h].id][0]&&1==u[esModel.graph.nodes[h].id][1]&&(esModel.graph.nodes[h].color="#FF0000"),0==u[esModel.graph.nodes[h].id][0]&&0==u[esModel.graph.nodes[h].id][1]&&(esModel.graph.nodes[h].color="#F5DEB3");for(var m=0;m<esModel.graph.nodes.length;m++)"#FF0000"!=String(esModel.graph.nodes[m].color)&&"#DA70D6"!=String(esModel.graph.nodes[m].color)||r||esModel.methods.UpdatePravila(esModel.graph.nodes[m].id);setEsModel(esModel),networks.network.setData({nodes:esModel.graph.nodes,edges:esModel.graph.edges}),RenderSelectedTM(0)}},layout:{hierarchical:{enabled:!1,direction:"LR",sortMethod:"directed",blockShifting:!1,levelSeparation:180}},edges:{color:"#000000"}},_useState=Object(react__WEBPACK_IMPORTED_MODULE_3__.useState)([]),_useState2=Object(D_bz_git_flm_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__.a)(_useState,2),xmlFiles=_useState2[0],setXmlFiles=_useState2[1],_useState3=Object(react__WEBPACK_IMPORTED_MODULE_3__.useState)([]),_useState4=Object(D_bz_git_flm_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__.a)(_useState3,2),xmlModeling=_useState4[0],setxmlModeling=_useState4[1],_useState5=Object(react__WEBPACK_IMPORTED_MODULE_3__.useState)([]),_useState6=Object(D_bz_git_flm_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__.a)(_useState5,2),xmlName=_useState6[0],setXmlName=_useState6[1],o2x=__webpack_require__(367);window.onbeforeunload=function(){return"A XHR request is pending, are you sure you want to leave ?"};var _useState7=Object(react__WEBPACK_IMPORTED_MODULE_3__.useState)({regimZaprosa:1,zapros:{},options:{Name:"",Author:"",userRequest:[]},structure:{},pravilaMode:0,TM:[],pravila_end:{1:["1_1...1_1","1_2...2_0.8","1_3...1_0.9","2_1...2_0.7","2_2...1_0.9","2_3...2_1","3_1...1_0.9","3_2...1_0.8","3_3...2_0.9"]},counter:0,graph:{nodes:[],edges:[]},events:{release:function(e){e.nodes,e.edges,networks.network.getPositions()},dragEnd:function(e){e.nodes,e.edges;for(var t=networks.network.getPositions(),_=0;_<esModel.graph.nodes.length;_++)esModel.graph.nodes[_].x=t[esModel.graph.nodes[_].id].x,esModel.graph.nodes[_].y=t[esModel.graph.nodes[_].id].y;setEsModel(esModel),networks.network.setData({nodes:esModel.graph.nodes,edges:esModel.graph.edges})},click:function(e){var t=e.nodes;e.edges;null!=t[0]&&RenderSelectedTM(t[0]-1)},doubleClick:function(e){for(var t=e.pointer.canvas,_=networks.network.getPositions(),r=0;r<esModel.graph.nodes.length;r++)esModel.graph.nodes[r].x=_[esModel.graph.nodes[r].id].x,esModel.graph.nodes[r].y=_[esModel.graph.nodes[r].id].y;esModel.methods.AddTMInputLevel(esModel.graph.nodes.length),createNode(t.x,t.y),setEsModel(esModel),networks.network.setData({nodes:esModel.graph.nodes,edges:esModel.graph.edges}),RenderSelectedTM(esModel.graph.nodes.length-1)},showPopup:function(e){e.nodes,e.edges}},methods:{setOUTForTM:function(e,t){console.log("number="+e+"   value="+t),esModel.TM[e].out=esModel.TM[e].out?0:1,setEsModel(esModel),console.log(esModel.TM),RenderSelectedTM(Number(e))},changeRegimVivoda:function(e){esModel.regimZaprosa=e,setEsModel(esModel),console.log(e)},DefZapros:function(e){esModel.zapros[String(e)]="1",setEsModel(esModel)},SetZapros:function(e,t){esModel.zapros[String(e)]=t,setEsModel(esModel),console.log(esModel.zapros)},ChangeCoeff:function ChangeCoeff(row,pos,value,nymberTM){var urovenPrav;urovenPrav=eval("esModel.pravila_end["+Number(nymberTM)+"]");var leftSide=urovenPrav[row-1].split("...")[0],rightSide=urovenPrav[row-1].split("...")[1].split("-");rightSide[pos-1]=rightSide[pos-1].split("_")[0]+"_"+value;for(var peresobran=leftSide+"...",rightPeresobran="",i=0;i<rightSide.length;i++)rightPeresobran+=rightSide[i],i+1<rightSide.length&&(rightPeresobran+="-");peresobran=""+peresobran+rightPeresobran,urovenPrav[row-1]=peresobran,setEsModel(esModel),RenderPravila(Number(nymberTM))},ChangeX:function(e){for(var t=[],_=[],r={},o=[],s=0;s<esModel.graph.nodes.length;s++)"#008000"==esModel.graph.nodes[s].color&&(esModel.graph.nodes[s].y=0,t[t.length]=s+1,esModel.graph.nodes[s].x=80*t.length-300),"#DA70D6"==esModel.graph.nodes[s].color&&(esModel.graph.nodes[s].y=-250,_[_.length]=s+1),"#FF0000"==esModel.graph.nodes[s].color&&(esModel.graph.nodes[s].y=-500,o[o.length]=s+1);r.input=t,r.output=o,urovniObrabotki={};for(var a=0;a<_.length;a++)pp=[],getLevelTMObrabotki(_[a],t);var n=50;for(var l in urovniObrabotki)urovniObrabotki[n]=urovniObrabotki[l],n++,delete urovniObrabotki[l];for(var l in n=1,urovniObrabotki)urovniObrabotki[n]=urovniObrabotki[l],n++,delete urovniObrabotki[l];for(var l in urovniObrabotki)for(var d=0;d<urovniObrabotki[l].length;d++)for(var i=0;i<esModel.graph.nodes.length;i++)esModel.graph.nodes[i].id==urovniObrabotki[l][d]&&(esModel.graph.nodes[i].y=-100*Number(l),esModel.graph.nodes[i].x=80*(d+1)-225);for(var M=0,c=0;c<esModel.graph.nodes.length;c++)"#FF0000"==esModel.graph.nodes[c].color&&(esModel.graph.nodes[c].y=-100*Object.keys(urovniObrabotki).length-100,esModel.graph.nodes[c].x=80*(M+1)-150,M++);M=0,urovniObrabotki.input=t,urovniObrabotki.output=o,console.log(urovniObrabotki),esModel.structure=urovniObrabotki,setEsModel(esModel),networks.network.setData({nodes:esModel.graph.nodes,edges:esModel.graph.edges}),RenderSelectedTM(0)},UpdatePravila:function(e){var t;t=void 0!=e.target?Number(e.target.id)+1:e,esModel.pravilaMode=1;for(var _=[],r=[],o=0;o<esModel.graph.edges.length;o++)esModel.graph.edges[esModel.graph.edges.length-o-1].to==Number(t)&&r.push(esModel.graph.edges[esModel.graph.edges.length-o-1].from);for(var s=0;s<r.length;s++)for(var a=0;a<esModel.TM.length;a++)esModel.TM[esModel.TM.length-a-1].id==Number(r[s]-1)&&_.push(esModel.TM[esModel.TM.length-a-1]);if(!(_<=0)){for(var n=[],l=0;l<_.length;l++){n.push([]);for(var d=0;d<_[_.length-1-l].termsCount;d++)n[l][d]=String(d+1)}for(var i=[],M=cartesian(n),c=!1,u=0;u<M.length;u++){c||i.push([]),i[u]="";for(var p=0;p<M[u].length;p++)i[u]+=M[u][p],p+1<M[u].length?i[u]+="_":i[u]+="...";c=!0}for(var g=[],h=0;h<esModel.TM.length;h++)esModel.TM[h].id==Number(t-1)&&g.push(esModel.TM[h]);for(var m=!1,E=[],O=0;O<M.length;O++){m||n.push([]),E[O]="";for(var b=0;b<g.length;b++)E[O]+="1_1",b+1<g.length&&(E[O]+="-");m=!0}for(var v=0;v<M.length;v++)i[v]+=E[v];esModel.pravila_end[String(t)]=i,setEsModel(esModel)}},changeEsName:function(e){esModel.options.Name=String(e.target.value),setEsModel(esModel),RenderOptionsMenu()},changeEsAuthor:function(e){esModel.options.Author=String(e),esModel.options.Author=String(e.target.value),setEsModel(esModel),RenderOptionsMenu()},ChangePravila:function(e,t,_,r){var o,s=(o=esModel.pravila_end[r])[e-1].split("...")[0],a=o[e-1].split("...")[1].split("-");a[t-1]=_+"_"+a[t-1].split("_")[1];for(var n=s+"...",l="",d=0;d<a.length;d++)l+=a[d],d+1<a.length&&(l+="-");n=""+n+l,o[e-1]=n,setEsModel(esModel)},ChangePlotColor:function(e,t,_){esModel.TM[e].plotsColors[t]=_,setEsModel(esModel),RenderSelectedTM(Number(e))},deletePointplot:function(e,t){var _=Object.keys(esModel.TM[e].coords[t]).length/2;delete esModel.TM[e].coords[t]["x"+_],delete esModel.TM[e].coords[t]["y"+_],setEsModel(esModel),RenderSelectedTM(Number(e))},addNewPointPlot:function(e,t){var _=Object.keys(esModel.TM[e].coords[t]).length/2+1,r="x"+_,o="y"+_;esModel.TM[e].coords[t][r]=0,esModel.TM[e].coords[t][o]=0,setEsModel(esModel),RenderSelectedTM(Number(e))},changeCoordsValue:function(e,t,_,r){esModel.TM[e].coords[t][_]=Number(r),setEsModel(esModel),RenderSelectedTM(Number(e))},deleteTerm:function(e){if(1!=esModel.TM[e].termsCount){for(var t=!1,_=0;_<esModel.graph.nodes.length;_++)esModel.graph.nodes[_].id==Number(e)+1&&"#F5DEB3"==esModel.graph.nodes[_].color&&(t=!0),esModel.graph.nodes[_].id!=Number(e)+1||"#008000"!=esModel.graph.nodes[_].color&&"#DA70D6"!=esModel.graph.nodes[_].color&&"#FF0000"!=esModel.graph.nodes[_].color||(esModel.pravila_end=[]);esModel.TM[e].termsCount=esModel.TM[e].termsCount-1;var r="term"+Object.keys(esModel.TM[e].termsNames).length;delete esModel.TM[e].termsNames[r],esModel.TM[e].coords.splice(esModel.TM[e].coords.length-1,1),esModel.TM[e].plotsColors.pop();for(var o="",s=0;s<esModel.TM[e].termsCount;s++)o+=esModel.TM[e].termsNames["term"+String(s+1)]+"\n";esModel.graph.nodes[e].title=o,networks.network.setData({nodes:esModel.graph.nodes,edges:esModel.graph.edges}),setEsModel(esModel);for(var a=0;a<esModel.graph.nodes.length;a++)"#FF0000"!=String(esModel.graph.nodes[a].color)&&"#DA70D6"!=String(esModel.graph.nodes[a].color)||t||esModel.methods.UpdatePravila(esModel.graph.nodes[a].id);setEsModel(esModel),RenderSelectedTM(Number(e))}},addNewTerm:function(e){for(var t=!1,_=0;_<esModel.graph.nodes.length;_++)esModel.graph.nodes[_].id==Number(e)+1&&"#F5DEB3"==esModel.graph.nodes[_].color&&(t=!0),esModel.graph.nodes[_].id!=Number(e)+1||"#008000"!=esModel.graph.nodes[_].color&&"#DA70D6"!=esModel.graph.nodes[_].color&&"#FF0000"!=esModel.graph.nodes[_].color||(esModel.pravila_end=[]);esModel.TM[e].termsCount=esModel.TM[e].termsCount+1;var r="term"+(Object.keys(esModel.TM[e].termsNames).length+1);esModel.TM[e].termsNames[r]="new_term";esModel.TM[e].coords.push({x1:0,y1:0,x2:0,y2:0,x3:0,y3:0,x4:0,y4:0}),esModel.TM[e].plotsColors.push("#000000");for(var o="",s=0;s<esModel.TM[e].termsCount;s++)o+=esModel.TM[e].termsNames["term"+String(s+1)]+"\n";esModel.graph.nodes[e].title=o,networks.network.setData({nodes:esModel.graph.nodes,edges:esModel.graph.edges});for(var a=0;a<esModel.graph.nodes.length;a++)"#FF0000"!=String(esModel.graph.nodes[a].color)&&"#DA70D6"!=String(esModel.graph.nodes[a].color)||t||esModel.methods.UpdatePravila(esModel.graph.nodes[a].id);setEsModel(esModel),RenderSelectedTM(Number(e))},changeTermName:function(e,t,_){esModel.TM[e].termsNames["term"+t]=_,setEsModel(esModel);for(var r="",o=0;o<esModel.TM[e].termsCount;o++)r+=esModel.TM[e].termsNames["term"+String(o+1)]+"\n";esModel.graph.nodes[e].title=r,networks.network.setData({nodes:esModel.graph.nodes,edges:esModel.graph.edges}),RenderSelectedTM(Number(e))},AddTMInputLevel:function(e){esModel.TM.push({id:e,name:"",termsCount:2,termsNames:{term1:"",term2:""},coords:[{x1:0,y1:0,x2:0,y2:1,x3:1,y3:1,x4:1,y4:0},{x1:1,y1:0,x2:1,y2:1,x3:2,y3:1,x4:2,y4:0}],plotsColors:["#000000","#000000"]}),setEsModel(esModel)},ChangeSelectedTMName:function(e,t){esModel.TM[e].name=String(t);for(var _=t.replace(/ /g,"\n"),r=0;r<t.length;r+=15)t.substr(r,15)+"\n";esModel.graph.nodes[e].label=_,setEsModel(esModel),RenderSelectedTM(Number(e)),networks.network.setData({nodes:esModel.graph.nodes,edges:esModel.graph.edges})}}}),_useState8=Object(D_bz_git_flm_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__.a)(_useState7,2),esModel=_useState8[0],setEsModel=_useState8[1],_useState9=Object(react__WEBPACK_IMPORTED_MODULE_3__.useState)([["\u041d\u0410\u0421\u0422\u0420\u041e\u0419\u041a\u0418"],[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)("div",{children:["\u041d\u0410\u0417\u0412\u0410\u041d\u0418\u0415 \u042d\u0421:"," ",Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("input",{class:"EsNameInput",value:esModel.options.Name,onInput:esModel.methods.changeEsName}),"\u0410\u0412\u0422\u041e\u0420 \u042d\u0421:"," ",Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("input",{class:"EsAuthorInput",value:esModel.options.Author,onInput:esModel.methods.changeEsAuthor})]})]]),_useState10=Object(D_bz_git_flm_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__.a)(_useState9,2),indexBodyHtml2=_useState10[0],setindexBodyHtml2=_useState10[1],graph=esModel.graph,events=esModel.events,_useState11=Object(react__WEBPACK_IMPORTED_MODULE_3__.useState)({network:{}}),_useState12=Object(D_bz_git_flm_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__.a)(_useState11,2),networks=_useState12[0],setNetwork=_useState12[1],states={network:{}},uroven=0,zz,pp=[],start,urovniObrabotki={};function getLevelTMObrabotki(e,t){void 0==zz&&(zz=t,start=e);for(var _=0;_<esModel.graph.edges.length;_++)start==e&&(uroven=0),esModel.graph.edges[_].to==e&&(uroven+=1,zz.includes(esModel.graph.edges[_].from)?(pp[pp.length]=uroven,uroven-=1):getLevelTMObrabotki(esModel.graph.edges[_].from));start==e&&(console.log(pp),void 0==urovniObrabotki[Math.max.apply(Math,Object(D_bz_git_flm_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__.a)(pp))]?(urovniObrabotki[Math.max.apply(Math,Object(D_bz_git_flm_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__.a)(pp))]=[],urovniObrabotki[Math.max.apply(Math,Object(D_bz_git_flm_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__.a)(pp))][urovniObrabotki[Math.max.apply(Math,Object(D_bz_git_flm_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__.a)(pp))].length]=e,start=void 0,zz=void 0):(urovniObrabotki[Math.max.apply(Math,Object(D_bz_git_flm_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__.a)(pp))][urovniObrabotki[Math.max.apply(Math,Object(D_bz_git_flm_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__.a)(pp))].length]=e,start=void 0,zz=void 0))}function changePravila(e,t,_,r){esModel.methods.ChangePravila(e,t,_,r)}function changeCoeff(e,t,_,r){esModel.methods.ChangeCoeff(e,t,_,r)}function cartesian(e){var t=[],_=e;_.reduceRight((function(e,t,_){return function(r){for(var o=0,s=t.length;o<s;o++){var a=r.slice();a[_]=t[o],e(a)}}}),Array.prototype.push.bind(t))(new Array(_.length));return t}function SendXmlModelling(){var e={};1==esModel.TM.length?(e.TM=[],e.TM.push(esModel.TM)):e.TM=esModel.TM;for(var t,_={},r=0;r<esModel.pravila_end.length;r++){_[""+r]=esModel.pravila_end[r]}for(var o in t=_,_)""==_[o]&&(_[o]=""),_["n"+o]=_[o],delete _[o];e.pravila_end=t,e.pravila_temp=_,e.graph=esModel.graph,e.counter=esModel.counter,e.options=esModel.options;var s={};for(var o in esModel.structure)s["n_"+o]=esModel.structure[o];e.structure=s;var a=new Blob([o2x(e)],{type:"text/xml"}),n=esModel.zapros;setxmlModeling(a);var l=new FormData;l.append("zapros",JSON.stringify(n)),l.append("file",a),axios__WEBPACK_IMPORTED_MODULE_9___default.a.post("https://aesfu.ru/api/study/flm-builder",l,{}).then((function(e){if(1==esModel.regimZaprosa){var t=e.data,_="",r=Object.keys(t).map((function(e){return _+=e+" "+t[e]+" "}));console.log(r),RenderModelingMenu(JSON.stringify(t))}if(2==esModel.regimZaprosa){t=e.data;console.log(t);_="";console.log(esModel);Object.keys(t).map((function(e){return _+="|| "+esModel.TM[e-1].name+"->"+esModel.TM[e-1].termsNames["term"+t[e][0]]+"("+t[e][1]+")  ||"}));RenderModelingMenu(_)}}))}function SaveToXMLOnComputer(){var e={};1==esModel.TM.length?(e.TM=[],e.TM.push(esModel.TM)):e.TM=esModel.TM,console.log(esModel.pravila_end);for(var t,_={},r=0;r<esModel.pravila_end.length;r++){_[""+r]=esModel.pravila_end[r]}for(var o in t=_,_)""==_[o]&&(_[o]=""),_["n"+o]=_[o],delete _[o];console.log(_),e.pravila_end=t,e.pravila_temp=_,e.graph=esModel.graph,e.counter=esModel.counter,e.options=esModel.options;var s={};for(var o in esModel.structure)s["n_"+o]=esModel.structure[o];e.structure=s;var a=document.createElement("a");document.body.appendChild(a);var n=new Blob([o2x(e)],{type:"text/xml"});a.href=URL.createObjectURL(n),a.download="myFile654.xml",a.click()}function Pravila(e){var t=[];t.push(Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("div",{class:"LayerElement",children:Object(_Table_js__WEBPACK_IMPORTED_MODULE_7__.a)(esModel,2,changePravila,changeCoeff,e)})),setindexBodyHtml2(t)}function ConsoleXml(e){console.log(e);var t=document.createElement("a");document.body.appendChild(t),t.download="FLMmodel.xml",sendToServer(new File([e],"FLMmodel.xml",{type:"text/xml"}))}function XmlOnServer(){var e=__webpack_require__(163).decode(Buffer.from(xmlFiles),"utf-8"),t=(new XMLParser).parse(e);console.log(t)}var changeTermName=function(e){input_Name=e.target.value,"termInput"==e.target.name.split("_")[0].match(/[a-zA-Z]+/g)[0]&&esModel.methods.changeTermName(e.target.name.split("_")[0].match(/\d+/g)[0],e.target.name.split("_")[1],e.target.value)},ChangeColor=function(e){"termInput"==e.target.id.split("_")[0].match(/[a-zA-Z]+/g)[0]&&esModel.methods.ChangePlotColor(e.target.id.split("_")[0].match(/\d+/g)[0],e.target.id.split("_")[1]-1,e.target.value)},DeletePointPlot=function(e){"termInput"==e.target.id.split("_")[0].match(/[a-zA-Z]+/g)[0]&&esModel.methods.deletePointplot(e.target.id.split("_")[0].match(/\d+/g)[0],e.target.id.split("_")[1]-1)},changeCoordsValues=function(e){input_Name=e.target.name,"termInput"==e.target.id.split("_")[0].match(/[a-zA-Z]+/g)[0]&&esModel.methods.changeCoordsValue(e.target.id.split("_")[0].match(/\d+/g)[0],e.target.id.split("_")[1]-1,e.target.name.split("_")[0],e.target.value)},addNewPointPlot=function(e){"termInput"==e.target.id.split("_")[0].match(/[a-zA-Z]+/g)[0]&&esModel.methods.addNewPointPlot(e.target.id.split("_")[0].match(/\d+/g)[0],e.target.id.split("_")[1]-1)},AddNewTerm=function(e){esModel.methods.addNewTerm(e.target.id)},DeleteTerm=function(e){esModel.methods.deleteTerm(e.target.id)},RenderOptionsMenu=function(e){var t=[];(t=["OPTIONS"]).push(Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)("div",{children:["NAME ES:",Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("input",{class:"EsNameInput",value:esModel.options.Name,onInput:esModel.methods.changeEsName}),"AUTHOR ES:",Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("input",{class:"EsAuthorInput",value:esModel.options.Author,onInput:esModel.methods.changeEsAuthor})]})),setindexBodyHtml2(t)},ChangeZapros=function(e){esModel.methods.SetZapros(e.target.id,String(e.target.selectedIndex+1))},ChangeRegimZaprosa=function(e){console.log(e.target.value),esModel.methods.changeRegimVivoda(e.target.value)},ChangeZaprosInput=function(e){esModel.methods.SetZapros(e.target.name,String(e.target.value))},RenderModelingMenu=function(e){var t=[];t=["\u041c\u041e\u0414\u0415\u041b\u0418\u0420\u041e\u0412\u0410\u041d\u0418\u0415"],console.log(esModel.structure),t.push(Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("div",{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)("select",{onChange:ChangeRegimZaprosa,children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("option",{value:"1",children:"\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("option",{value:"2",children:"\u0417\u043d\u0430\u0447\u0435\u043d\u0438\u0435+\u0420\u0430\u0441\u0448\u0438\u0444\u0440\u043e\u0432\u043a\u0430"})]})}));for(var _=0;_<esModel.structure.input.length;_++){for(var r="",o=0,s=0;s<esModel.TM.length;s++)esModel.TM[s].id==String(esModel.structure.input[_]-1)&&(r+=esModel.TM[s].name,o=s);void 0==esModel.zapros[esModel.structure.input[_]]&&esModel.methods.DefZapros(esModel.structure.input[_]),2==Object.keys(esModel.TM[o].coords[0]).length?t.push(Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)("div",{children:["\u0422\u0415\u0420\u041c - \u041c\u041d\u041e\u0416\u0415\u0421\u0422\u0412\u041e ( ",esModel.structure.input[_]," ) (",r,"):",Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("select",{className:"custom-select",id:esModel.structure.input[_],onChange:ChangeZapros,defaultValue:esModel.TM[esModel.structure.input[_]-1].termsNames["term"+esModel.zapros[esModel.structure.input[_]]],children:Object.values(esModel.TM[o].termsNames).map((function(e,t){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("option",{id:e,value:e,children:e},t)}))})]})):t.push(Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)("div",{children:["\u0422\u0415\u0420\u041c - \u041c\u041d\u041e\u0416\u0415\u0421\u0422\u0412\u041e ( ",esModel.structure.input[_]," ) (",r,"):",Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("input",{type:"text",className:"form-control",placeholder:"...",name:esModel.structure.input[_],onChange:ChangeZaprosInput})]}))}t.push(Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("div",{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("button",{onClick:SendXmlModelling,children:" \u041c\u041e\u0414\u0415\u041b\u0418\u0420\u041e\u0412\u0410\u0422\u042c"})})),console.log(e),"string"==typeof e&&t.push(Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)("div",{children:[e," "]})),setindexBodyHtml2(t)},changeSelectedTMName=function(e){input_Name=e.target.id,"term"==e.target.id.split("_")[0].match(/[a-zA-Z]+/g)[0]&&esModel.methods.ChangeSelectedTMName(e.target.id.split("_")[1],e.target.value)},setOUTForTM=function(e){console.log(e.target.value),input_Name=e.target.id,"term"==e.target.id.split("_")[0].match(/[a-zA-Z]+/g)[0]&&esModel.methods.setOUTForTM(e.target.id.split("_")[1],e.target.value)},RenderSelectedTM=function(e){var t,_=[],r=[];inputLevelCounter=0;for(var o=[],s=[],a="term_"+(t=e),n=0;n<esModel.graph.nodes.length;n++)esModel.graph.nodes[n].id==e+1&&"#DA70D6"==esModel.graph.nodes[n].color&&(s=[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("input",{type:"checkbox",checked:esModel.TM[t].out,id:a,onChange:setOUTForTM,width:"1"})]);for(var l=0;l<esModel.graph.nodes.length;l++)esModel.graph.nodes[l].id!=e+1||"#DA70D6"!=esModel.graph.nodes[l].color&&"#FF0000"!=esModel.graph.nodes[l].color||(o=[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)("button",{id:t,onClick:RenderPravila,children:[" ","\u041f\u0420\u0410\u0412\u0418\u041b\u0410:"," "]})]);for(var d=0;d<esModel.TM.length;d++)esModel.TM[d].id==t&&(t=d);var i="term_"+t;_.push(Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)("div",{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)("div",{children:[" ",Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)("label",{class:"myLabel",children:[" \u0422\u0415\u0420\u041c - \u041c\u041d\u041e\u0416\u0415\u0421\u0422\u0412\u041e \u2116",t+1," "]})]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("label",{class:"myLabel",children:"\u041d\u0410\u0417\u0412\u0410\u041d\u0418\u0415 \u0422\u041c: "}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("input",{type:"text",value:esModel.TM[t].name,className:"form-control",id:i,placeholder:"...",onChange:changeSelectedTMName}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("div",{}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("label",{class:"myLabel",children:" \u0422\u0415\u0420\u041c\u041e\u0412 \u0412 \u0422\u041c:\xa0 "}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("input",{type:"text",value:esModel.TM[t].termsCount,className:"form-control",placeholder:"..."}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)("button",{id:t,onClick:AddNewTerm,children:[" ","\u0414\u041e\u0411\u0410\u0412\u0418\u0422\u042c \u0422\u0415\u0420\u041c"]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)("button",{id:t,onClick:DeleteTerm,children:[" ","\u0423\u0414\u0410\u041b\u0418\u0422\u042c \u0422\u0415\u0420\u041c"]}),o,s]}));for(var M=0;M<esModel.TM[t].coords.length;M++){var c=M+1,u="\u0422\u0415\u0420\u041c \u2116"+c,p="termInput"+t+"_"+c;r=[];for(var g=0;g<Object.keys(esModel.TM[t].coords[M]).length/2;g++){var h="x"+(g+1)+"_input",m="y"+(g+1)+"_input";r.push(Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)("div",{children:["x",g+1,":"," ",Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("input",{class:"plotInput",type:"number",step:"0.1",min:"-1000",value:esModel.TM[t].coords[M]["x"+(g+1)],id:p,name:h,onInput:changeCoordsValues}),"y",g+1,":"," ",Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("input",{class:"plotInput",type:"number",step:"0.1",min:"0",value:esModel.TM[t].coords[M]["y"+(g+1)],id:p,name:m,onInput:changeCoordsValues})]}))}_.push(Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("div",{class:"blockMy",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)("div",{class:"blockMy",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)("div",{children:[" ",u," "]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)("div",{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("input",{name:p,value:esModel.TM[t].termsNames["term"+(M+1)],type:"text",onInput:changeTermName})," "]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)("div",{class:"blockMy",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("button",{onClick:addNewPointPlot,id:p,children:"+"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("button",{onClick:DeletePointPlot,id:p,children:"-"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("input",{type:"color",class:"odin",id:p,onChange:ChangeColor,value:esModel.TM[t].plotsColors[M]})]}),r]})}))}_.push(Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)("div",{class:"Plot",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("div",{}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("div",{children:Object(_Plots_js__WEBPACK_IMPORTED_MODULE_6__.a)(esModel.TM[t].coords,esModel.TM[t].termsCount,esModel.TM[t].plotsColors)})]}));var E=[];E.push(Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("div",{class:"Blochek",children:_})),setindexBodyHtml2(E),inputLevelCounter++};function GoToPravila(e){esModel.pravilaMode=e}var RenderPravila=function(e){var t;GoToPravila(1),setEsModel(esModel),t=void 0==e.target?e:Number(e.target.id)+1,console.log(t),Pravila(t)};function sendToServer(e){var t=new FormData;t.append("file",e),axios__WEBPACK_IMPORTED_MODULE_9___default.a.post("http://localhost:8000/upload",t,{}).then((function(e){XmlOnServer(),setXmlName(""+xmlFiles.name)}))}function testINFO(){var e=esModel.graph.nodes.findIndex((function(e){return"#FF0000"===e.color}));console.log(e)}var handleSubmit=function(e){e.preventDefault();__webpack_require__(163),__webpack_require__(393);var t=new FileReader,_=new XMLParser;t.readAsText(xmlFiles),t.onload=function(e){var t=e.target.result,r=_.parse(t);console.log(r),void 0==r.TM.length?(esModel.TM=[],esModel.TM[0]=r.TM):esModel.TM=r.TM,esModel.graph=r.graph,esModel.counter=r.counter,esModel.options=r.options;for(var o={},s=0;s<Object.keys(r.structure).length;s++)o[Object.keys(r.structure)[s].split("_")[1]]=r.structure[Object.keys(r.structure)[s]];esModel.structure=o,esModel.pravila_end=[];for(var a=0;a<Object.keys(r.pravila_temp).length;a++)esModel.pravila_end[a]=r.pravila_temp["n"+a];setEsModel(esModel),RenderOptionsMenu()}},handleFileSelect=function(e){setXmlFiles(e.target.files[0])},inp_termMn_1=8;return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)("div",{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)("div",{children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("button",{onClick:SaveToXMLOnComputer,children:"SAVE MODEL TO COMPUTER"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("button",{onClick:esModel.methods.ChangeX,children:"SORT"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("button",{onClick:RenderOptionsMenu,children:"OPTIONS"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("button",{onClick:RenderModelingMenu,children:" MODELING"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("input",{type:"file",onChange:handleFileSelect}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("button",{type:"button",onClick:handleSubmit,children:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("button",{type:"button",style:{marginLeft:"4px"},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("a",{target:"_blank",href:"https://aesfu.ru/method/flm-builder/instructions",children:"\u0414\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430\u0446\u0438\u044f"})})]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsxs)("div",{class:"LayerElement",children:[" ",indexBodyHtml2]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)("div",{class:"LayerElement",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(react_graph_vis__WEBPACK_IMPORTED_MODULE_2___default.a,{id:"graph",getNetwork:function(e){networks.network=e,setNetwork(networks)},graph:esModel.graph,options:options,events:esModel.events,style:{width:"700px",height:"600px",position:"flex",right:"0",border:"1px solid"}})})]})}react_dom__WEBPACK_IMPORTED_MODULE_4___default.a.render(Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_10__.jsx)(FlmTree,{}),document.getElementById("root"))}.call(this,__webpack_require__(34).Buffer)},318:function(e,t,_){},338:function(e,t,_){},392:function(e,t){}},[[171,1,2]]]);
//# sourceMappingURL=main.c0e02341.chunk.js.map